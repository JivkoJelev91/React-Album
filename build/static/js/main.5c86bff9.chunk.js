(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{244:function(e,t,a){e.exports=a(525)},249:function(e,t,a){},524:function(e,t,a){},525:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(24),o=a.n(i),l=(a(249),a(40)),c=a(41),s=a(46),u=a(42),m=a(45),g=a(216),h=a.n(g),v=a(217),p=a(44),f=a(29),d=a(148),E=a(219),b=a.n(E),y=a(220),O=Object(f.c)({favorite_images:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"GET_IMAGES"===t.type?t.payload:e},get_favorites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"GET_FAVORITES"===t.type?t.payload:e}}),_={key:"root",storage:b.a},j=Object(d.a)(_,O),C=Object(f.d)(j,Object(f.a)(y.a)),k=Object(d.b)(C),w=a(221),A=a.n(w),I=function(){return r.a.createElement(A.a,{title:"Images"})},P=a(149),S=a(63),G=a(222),T=a.n(G),F=a(61),D=a.n(F),B=a(97),M=a.n(B),N=a(223),R=a.n(N),x=a(98),L=a.n(x),q=a(62),J=a.n(q),V=a(531),W=a(224),$=a.n(W),z=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={images:[],open:!1,currentImg:"",totalPage:0,currentPage:1},a.perPage=20,a.favorites=[],a.array=[],a.getData=function(){$.a.get("https://jsonplaceholder.typicode.com/photos").then(function(e){var t=a.perPage*(a.state.currentPage-1),n=a.perPage*a.state.currentPage,r=e.data.length/a.perPage;a.setState({images:e.data.slice(t,n),totalPage:r})}).catch(function(e){return console.log(e)})},a.getCurrentPage=function(e,t){var n=t.activePage;a.setState({currentPage:n}),a.getData()},a.getFavoriteImg=function(e,t){var n=a.array.indexOf(t.id);n>-1?(a.array.splice(n,1),a.favorites.splice(n,1)):(a.array.push(t.id),a.favorites.push(t)),a.props.save_favorite_icons(Object(P.a)(new Set(a.array))),a.props.get_favorites_imgs(Object(P.a)(new Set(a.favorites)))},a.handleOpen=function(e){return a.setState({open:!0,currentImg:e})},a.handleClose=function(){return a.setState({open:!1})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getData(),this.props.favorite_images.length>0&&(this.array=this.props.get_favorites_icons,this.favorites=this.props.favorite_images)}},{key:"render",value:function(){var e=this,t=[r.a.createElement(J.a,{label:"Close",primary:!0,onClick:this.handleClose})];return this.state.images.length>0?r.a.createElement("div",null,r.a.createElement(S.GridList,{cols:4},this.state.images.map(function(t){return r.a.createElement(S.GridTile,{key:t.id,title:t.title,actionIcon:r.a.createElement("div",{className:"icons"},r.a.createElement("span",null,r.a.createElement(D.a,null,r.a.createElement(M.a,{color:"#000",onClick:function(){return e.handleOpen(t.url)}}))),r.a.createElement("span",{onClick:function(a){return e.getFavoriteImg(a,t)}},r.a.createElement(D.a,null,r.a.createElement(R.a,{color:e.props.get_favorites_icons.indexOf(t.id)>-1?"red":"black"}))))},r.a.createElement("img",{src:t.url,alt:t.title}))})),r.a.createElement(L.a,{actions:t,modal:!1,open:this.state.open,onRequestClose:this.handleClose},r.a.createElement("img",{src:this.state.currentImg,alt:"img",style:{width:"100%"}})),r.a.createElement("div",{id:"paginator"},r.a.createElement(V.a,{defaultActivePage:1,totalPages:this.state.totalPage,onPageChange:this.getCurrentPage}))):r.a.createElement("div",{id:"wrapper"},r.a.createElement("div",{className:"spinner"},r.a.createElement(T.a,null)))}}]),t}(n.Component);var H=Object(p.b)(function(e){return{favorite_images:e.favorite_images,get_favorites_icons:e.get_favorites}},{get_favorites_imgs:function(e){return function(t){t({type:"GET_IMAGES",payload:e})}},save_favorite_icons:function(e){return function(t){t({type:"GET_FAVORITES",payload:e})}}})(z),K=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={images:[],open:!1},a.handleOpen=function(e){return a.setState({open:!0,currentImg:e})},a.handleClose=function(){return a.setState({open:!1})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({images:this.props.favorite_images.sort(function(e,t){return e.id-t.id})})}},{key:"render",value:function(){var e=this,t=[r.a.createElement(J.a,{label:"Close",primary:!0,onClick:this.handleClose})];return this.props.isActive&&this.props.favorite_images.length>0?r.a.createElement("div",null,r.a.createElement(S.GridList,{cols:4},this.state.images.map(function(t,a){return r.a.createElement(S.GridTile,{title:t.title,key:a,actionIcon:r.a.createElement(D.a,null,r.a.createElement(M.a,{color:"#000",onClick:function(){return e.handleOpen(t.url)}}))},r.a.createElement("img",{src:t.url,alt:t.title}))})),r.a.createElement(L.a,{actions:t,modal:!1,open:this.state.open,onRequestClose:this.handleClose},r.a.createElement("img",{src:this.state.currentImg,alt:"img",style:{width:"100%"}}))):r.a.createElement("h1",null,"There is no favorite image!")}}]),t}(n.Component);var Q=Object(p.b)(function(e){return{favorite_images:e.favorite_images}})(K),U=a(530),X=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isActive:!1},a.getImages=function(){return a.setState({isActive:!a.state.isActive})},a.clearAllFavoriteImgs=function(){return k.purge()&&window.location.reload()},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=[r.a.createElement(J.a,{label:"Close",primary:!0,onClick:this.handleClose})];return r.a.createElement("div",null,r.a.createElement(I,null),r.a.createElement(U.a,{fluid:!0,className:"favoriteBtn",onClick:this.getImages},this.state.isActive?r.a.createElement("h2",null,"All images"):r.a.createElement("h2",null,"Look your favorite images")),r.a.createElement("div",null,this.state.isActive?r.a.createElement(Q,{isActive:this.state.isActive,actions:e}):r.a.createElement(H,{actions:e})),r.a.createElement("div",null,this.props.favorite_images.length>0?r.a.createElement(U.a,{fluid:!0,className:"favoriteBtn",onClick:this.clearAllFavoriteImgs},this.state.isActive?r.a.createElement("h2",null,"Clear all Favorite Images"):null):null))}}]),t}(n.Component);var Y=Object(p.b)(function(e){return{favorite_images:e.favorite_images}})(X),Z=(a(524),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,{store:C},r.a.createElement(v.a,{loading:r.a.createElement("div",null),persistor:k},r.a.createElement(h.a,null,r.a.createElement(Y,null))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[244,1,2]]]);
//# sourceMappingURL=main.5c86bff9.chunk.js.map